<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>尽可能全面的解析URL</title>
	</head>
	<body>
		<script>
			var url = 'http://www.domain.com/?user=anonymous&id=123&id=456&city=%E5%8C%97%E4%BA%AC&d&enabled'
			function parseParam (url) {
				// 匹配http链接URL的正则
				let reg = /^(?:http|https):\/\/[a-zA-Z]+\.[a-zA-Z0-9]{2,}\.[a-zA-Z]{2,}(?:\.[a-zA-Z]{2,})?(?::(\d+))?(\/([a-zA-Z]\w*(\.\w+)?)?)?(\?([a-zA-Z]+(?:=[^#?]+)?)(&[a-zA-Z]+(=[^#?]+)?)*)?(#\w+)?$/ig
				console.log(RegExp.prototype.exec.call(reg, url))
			}
			parseParam(url)
		</script>
	</body>
</html>
