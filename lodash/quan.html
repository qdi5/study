<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //生成一个对象数组
    var obj = [];
    for(var i = 0;i < 10;i++){
        var j = {};
        j.index = i+1;
        obj.push(j);
    }
    var before = [];
    var after = [];
    function calc(ary){
        if(ary.length>=3){
            for(var i = 0;i< ary.length;i++){
                var num = i+1;
                if(i!==0&&((num%3)==0)){
                    //删除3的倍数的下标
                    //得到索引之后的数组
                    //console.log("num:"+num);
                    after = ary.slice(num);
                    //splice删除元素后，返回的是含有被删除元素的数组
                    var del = ary.splice(i,1);
                    /*console.log("打印del");
                    console.log(del);
                    console.log("被删除的数："+del[0].index);*/
                    break;
                }
                //得到索引i之前的元素追加到数组后面
                before.push(ary[i]);
                //从索引i这里切断这个数组
            }
        }
        else {
            //当剩余的人只有2个人时候
            before =[];
            //splice会改变原有数组的值，返回被删除的元素
            //当有两个参数时候，第一个参数，是要删除的下标，第二个参数是长度(删几个)
            ary.splice((3%2-1),1);
            after = ary;

        }
    var concatAry = after.concat(before);

        before = [];
        after = [];
        if(concatAry.length>1){

            calc(concatAry);
        }
        else {
            console.log('结果是：'+concatAry[0].index);
        }
    }
    calc(obj);
    /*
    *   count： 报数
    *   index: 要删除的数组下标
    *   取余
    *
    * */
</script>
</body>
</html>
